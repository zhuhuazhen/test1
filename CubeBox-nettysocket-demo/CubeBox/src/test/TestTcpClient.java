package test;
import java.io.BufferedReader;  
import java.io.DataOutputStream;  
import java.io.InputStream;  
import java.io.InputStreamReader;  
import java.io.OutputStream;  
import java.net.InetAddress;  
import java.net.Socket;

import com.cube.utils.HexByteToolUtil;

public class TestTcpClient {  
    //启动main时传进来两个参数：ip和端口号  
    public static void main(String [] args)   
    {  
    try  
    {  
        Socket s=new Socket(InetAddress.getByName("127.0.0.1"),9154);  
//        if(args.length < 2)  
//        {  
//            System.out.println("Usage:java TcpClient ServerIP ServerPort");  
//            return;  
//        }  
        //建立Socket  
       // Socket s=new Socket(InetAddress.getByName(args[0]),Integer.parseInt(args[1]));  
        InputStream ips=s.getInputStream();  
        OutputStream ops=s.getOutputStream();  
        BufferedReader brKey = new BufferedReader(new InputStreamReader(System.in));//键盘输入  
        DataOutputStream dos = new DataOutputStream(ops);  
        BufferedReader brNet = new BufferedReader(new InputStreamReader(ips));  
  
        while(true)  
        {  
            String strWord = "[3G*0802319423*2e75*TK,2321414D520A3C911716BE6679E1E001E7AFF0000000800000000000000000000000000000003C487724966679E1E001E7BAF0000000C00000000000000000000000000000003C550088B66679E1E001E7CFF0000000800000000000000000000000000000003C48F91F966679E1E001E78AF0000000C00000000000000000000000000000003C54FD1FB66679E1E001E7CFF0000000800000000000000000000000000000003C48F51F966679E1E001E78AF0000000C00000000000000000000000000000003C54FD1FB66679E1E001E7CFF0000000800000000000000000000000000000003C48F51F966679E1E001E78AF0000000C00000000000000000000000000000003C54FD1FB66679E1E001E7CFF0000000800000000000000000000000000000003C48F51F966679E1E001E78AF0000000C00000000000000000000000000000003C54FD1FB66679E1E001E7CFF0000000800000000000000000000000000000003C48F51F966679E1E001E78AF0000000C00000000000000000000000000000003C54FD1FB66679E1E001E7CFF0000000800000000000000000000000000000003C48F51F966679E1E001E78AF0000000C00000000000000000000000000000003C54FD1FB66679E1E001E7CFF0000000800000000000000000000000000000003C48F51F966679E1E001E78AF0000000C00000000000000000000000000000003C14220D4A694901B139BB0CBA35894A0AAFD6664821BF4713085F93D3924B003C2069242FFA523CA1F1A40B36255F29569771F1BF8AF115A530C5C57D03D932C03C443C1F8C99600E41E53EA288037B74DE34441260A5FE880E20E6EE9E61F5703C0C7D027A4CDE5012E1E4D584E5E4B378802E27BA0E35592BADAA9793463A6EC03C284960445CB201E1E774FBCC522BEBE9D34181643FEFB8014237E5DA22B6503C32437F475A1A3A61F66B4CC016688AEA6E8E40D17D05EA496A86CDE9C12648E03C283783473C1C01A1ECF765399280DE3915A62DCD6946CD09EC8BEDA007E6603C1A5C613E7FE185A1FF6954009C6E5304A63972B562246E8B12FE12021E81703C4E35804E7F271F05B0DD26C5DB938A4565681934BFC85A29B86F34E04622003C187D0379347C062921EE7FEC2D21ADE055EF25C5EDCF488ACDA66DC66AA971803C484C2448C8E603A1FEE52422749AD96B390F4488C56BFEE9F784A6F09057003C22537337F90300C1FA27A296C665A7C191CC6B9A963E0A6A99937D047220F9103C3E5581EF5EC480F0EF358B811A09BC7ADF712EB5C49A0A40A3C76576390F403C7D05436DA419B221A3DD94A3540AC01D1478BBB7D359C35858B23C517BB19EB03C20C667845FE2C005AB2BCB8CBCCAD0ED20031BF369319917E94286301C3AC03C7D0535E0B90B781843DE507BC6B8F760C97A4F7E97D5E8D57C19754E922BDAC03C0C3494C3317135AB5442D6D95F5A22ACEBF3A7A0791C767EC1EDB6D50969B03C16248BC60DDAFC1C23636A1108B2F585E3E77667120F0A1FF4D24AEA6DB3303C1228AEBF5C7BED5A4CD5383AA52BBD3AC3A5CFF546229B5926D341EFA4F0203C121F25C6190C1EED36D5AA7D019E070AD4D94800E7092F1E8D012961AFFBFAA03C1226ABCE12BE7F168A8B8804B24E561928BBCBA12D0EF26CB76BFD45DDFF403C1E34ABA607C7A6EB54D16B4E04BEFE621B13722FAF82010FEE4C65A9D4C6903C24ACAABE066DEC3E0182C8681B32EECCBCCF0A66C42F9406C8781CB19F7D01F03C24993AFE059698FE038DCA5C1AD272E6C900C15F832410318345C0E71BB3103C28367A9E19933C5E041AE79DA627A5AFBED8D2F67D030FCDDAB0E846993811C03C383479C610EB649E10D936E58D3AE6957D038D4A8C22F61B68B6FECF287A80903C303C27BEA17410FC232EC7CF5F93FFBC9DF02614F6CEB5AC10B775DB9C48703C6F7811A607ED1B5E105FDBADBF3AC279A8CBB714079F1E7D043825FB9FDF28603C3A3811C7F9827D017C7D0573A97378A1E86D77E1B340EAA82489C99E83EAF77D03303C3E3DB1BDFB03595C36C34CB51DBF05047D0204EB049E0CE84E3BF2529AE32B503C363DB1B95CEB1D1E0F804A486742C829F17D0491B72E34AC7584EFC50BA149903C6A3C0CBDEA6050BE02C60A9A7ACABC0F370F3922165251B4A2FD4C84BB8AD03C3839AB9AB304165E11991A6787768A1FE9ECA14EA5A01F7024DCA8509B7EF03C46360C9FF9B435BE0B989B80D7198FC09FD277F4F5BBC0105971639B7272303C3841ABBE0D1C90FE05014B608182014D4A55594A3413A510057D02D10E1BC3E03C423DC1BE18C946D68FB51AF8394E32F902B63A3E49F7BB3879EA4BF50ED7E03CF837A88980F0A358679094135549442FD1DECEA4C6CF6C3BD61F7D049DC2F9003C3A3D9A29818A6B50FF919F031947ECD79C7C9414D04BEDE0A84DDCC0812B803C722839B981D812F86781AA8B16492E29613F908CB219BFA91DFB6186C645503C3843A44181B909F0EF860F4F1B82687E51FBDD4E665A4BDAED681E30D7C3E03C284C384D713C12DA445E2BC82F3D5E7279AECB28694FC8FD48D2A637658E303C4638DCC7EC8FFFFC3673E4E18ADADE092789F63A40EEEA2EA7FD84531519003C68419B8E030CD1BE01812B36BA4C9F456C9FBD0B95AEA2A99A414131C67D01603C4637C1BE0608DBBE00D5CBB3C146A9750C6BD54605A1B35987670D4FB722203C4641B18E01FFC4EF10D59A2F158823FAD0816985F814CF55663B4175C8DFD03C463613B603449FFA472FDAD8D7C3C1143B412F6DEDA29F7E035F10EAE5CC103C46C6139E0619C6FC23810BA7D29CE05CAA5354275CEF375F168B708D01C1003C3A3C139603576AD2CF8225CE1361EA5AB23BF7E395DDD8C0F0686756A0FFE03C463E199606D7C23E01809438363DC8B0ED0B24338DFC0C1472FEA944D3C3903C323C159607B01B6F13989228F88A7CE57D042114553D783B14E48DE0B9CDCFC03C44379625D65E0C01FECF349E19204A0B4BD949A2DA05E8422D416AE60E38303C1645713FF7122D92CD3BFBA6E5DBBA880DE123363635E2FF54D2AC51A382903C1E3B8887E37D031B4B552255A210A365B8271FF7DF543981E57CBCFEABAD38303C122990799E5EAF23DD917D028299BB745A331ECEACE9BDCEFC9F9BA112636F303C17780EB7E86C1AD0EF80F173FE6B29916ACB3CE4C4159529D23F8181A17D04E03C1E280EA5FA726192CD89148C007D015C7FFB97C046DD600A7FD9C60C223BBDA03C20220CB9FFE2B278672BB1F59A34ACB9E370768E9DA4F0653B8363F9B50AA03C261DB199FFB88BB4AB819CE5DBE2A03AC4B35CE21637E4E4C0551020A4F6903C1F79BA968BBE3D1E016D02087A3F4B795ADD60DD89BE5E15C614A7B692C9403C362213BE085EB62F111FD5106BC33542D5049853FEE375F1C5607D0486E07D04703C1E1C0CBE0C0543D4AB985457960C0F3D38EDD8D5B049EA6051FD97949AF5703C2838169E199360BE018E94D01893A4073899FCFCAA75BFDDD07D0426361622E03C2623B1C3AE0A8BCB7D036DB41A58EB168543A880F57C8084000BBEE0E76CC5903C2E3F9BC307701A3C3279AAE16BB5A037A57410F4E4D7DA506F072BCD9A1B303C261FAEA305ED1B1E10F657A0123D3C0B596C5EB235A3771AC88BA1F78335703C263C0F9186FD1685BB96F9EF9A4917DE69E17E0B3907D50B11E4A5A07D01B8E03C2428069307F307D681823A1C94D291DCE25F5525A9D394EB909B3FE00748603C263DAE3192BA51FC22D75900FA12D5F008336CCD06858989E8337D0308B739903C2979AE95D69E45E976D93BFE85ABD9743909B20D3EF938509E507B06A365603C2E22047D01D6B946986729DA130EA381C47A607FB823D0268F83A0CFA8DC16B03C443A063187A72D54AB805FC418534EB648730A0728D3B4FD00E54428F3C4B03CF813B62186AA1A41FF2FBF7F20C4FC92CE5A89AB4AC05C618BA01EC19752B03C2181AF318CB81AE3DD31EFD4A8AE3E807ACDEFE39E2DA74EF5950D6B791E203C363C061BAE4D59697796DAD11F98EAB4BED96AD11FD24640B11691C34292203C1C46397D05A68E0863DC4E8ADC7BA77D03CFFC53D2D4DD7D03ABED6966E121A7B5303C28223ABA638B025A40D329413454FE73A5B34BF15F1A59D9106D93B2EF3A803C243E2EFA2710ACBA44F500216D6C9FA3F399E9567D019410EA085A61F9C778603C20281646648A09E1EF98DCBDD0BE961FAAB8CABB36F68C65D0A6B38C5AF5903C1D79699FEE569165BAE553F83DCEE38C689FE3B332571A8D434976AAD4B9203C1E18A23E05A5BDB2CF7D05CBDE82FD5EB0188F43BEC061900BD8C69202BB79603C163D1FA1FFC5F745BA3DA767ADD862F579D008C2F44F5A26E1C253FBB6C9D03C1E227939FCB3EC3866D44ADABCBE12CF87C0AE12D994DF6C3A837989E25E703C1E37A1A1F9E9F48B7D0380AE5A63EF28C70E27B6B3F22FFDA8AA0361758161203C2829ABA1FE07A652CF822BE6A3BCB7C77D01E8953875E9FC16CCA4084D93FF703C3635A8BB55377D04D6898469C9E16A6F7493BE3A030A70680F9CE549C004DC303C262209A601BB4AAF10D5687089CAADEDA2C57D04B375C5C795DF98B16995BE403C363633C60D13837A45932916E02D167D036457395EE42F8F6DAAA051E72719003C297839BE18E4871A459A5A02BED68F205C6EC688A6020A9799AEA13EECCB303C26442DC61FE2D7B8658237B374BA5E88374E052EC470E44F038C51A70258A03C2E3C53C6632070D4B8D138A90442FEE2EC8B34C4F89339E582097D0413BC5CA03C283C33AC749A52D2CDB487F7CFE2BA3C7D0103C0CFAD4D045F29577863055A703C1C402FF826E606E1F42D19BFAD333F44468ED813818CA9F15360511135BB903C3622398864E489C973949B5610BBFD700946EBEFB44FA6D56F49514F9E26B03CDA555F381EFA10E1F7B1B4DC7B5A8517A21E9B4339913290B3F971D342F4F03CF855909555900BA3D0114676CA84178E6C8F8E7D042D681015AB32E99D2F77203C28435F37F6200941E58774F5F2DB030FB8AEEFF09BD8CC65E250A0D8EDA0803C2E701D1045001C21F30164943EF1FC184D803F4B7B640850097C66CCC90CE03C2E6D5A9BEDE80B01E0C69CAFDA20AFE7E44AB545889E9DB0E0D49AE9A61C603C54EC694D59540B41F2D191A4622B7D032510E0A342AD7D054C1A71CC7966A38B203C30FC8232508E02C169D37D0484264E421E08417D02F3C209FE3DB383A96B1FE0D03C3083633DBC3B996178DF7C357FD4017D0433076118DEA7743C41E3741731AAB03C3F7D0479204E610561E184FC522F8D45007926BA3BDF79F76247C2471753EE903C9100798DD9600861E09434D082700EFA2D9CB2A8E83C42897D018FB975148F703C13378D1A91F21621A6AA6A4252C8B6F7E1B642105225FCC7512B3F63443C403C8B196442CCFC10E14BD1A42706C0633028B8BF2D6BBEEDE797A70BC78EA1403C434269184BB00981C33D9A14AFF462DB803AABC587943015E283854F5CDF803C0CFE771835CA82C1F875B563ED3205BF2BB5AEFF2DB7F7FA0D0FD6982D99203C2858631297961B61E578483D7205CB21BD00EAAF3B2F1D754ED8C47E3D0F203C286C6D7B726920C1F2C6CB1294699FEE9C541FA37131AD74FB9568E1BE06B03C1E5C290EC7E81A41E13BD80E50E592479B837CE1D6ADEF3201C491A20FD3903C28EA6338B6100C01E1D364FC85E2BB3DDB9BD78426F81B22D64DE5C19D26E03C245F2D53E9ED4441F182B43F44069D8ABBE1410B514013F087B0E795BD47503C352B7D013CBDDE01A1797D045C372275DA13D06FF2DFFC49F20C2D541ADB9D0B203CEE6C63517D03471381E6DEB6A80A9E2B6F3A3D29738A0CF8D55769C4040A15103C8B2D7425731511C1E53AEB7D03719F8AD710264AE90D9FEED77F4BC5CD36A8D03C3A7C7188271611C1E25022108E37F5038F6B4F52ABE095DB38C68FE0F2C2003CDF37A14069EA07E1E5814CBC9B20452230A416E57D03AF157A6D07D1EC8419203C64897F509D4C0861FDCBB749FF45B85134D774D3F3CFF6AF2132D6135631E03C7AED798D764A4181EC579B4975996E7E16F7E4E8A351A0F7C802757348F0C03CDE3F631AEB92CB81F780F604D07D0572E443FBFB5AFBE47C717D02DAA82B2D04A03CF878578F55C472E3DD547D0554613FBB2695DEA6F6343FF05EC3468208D496803C0419D69EA29B19C5B81D56DD52E8C357679E37FB7FA5FBB91CAA4FEC7801703C24329D466123E810EE7D05D8956C1BBF019C7E691BEE114F3ED6D7D6B704B3D03C0C251BA61F6F3E7A44951532830863A06BFF074930C909291386CE8AF896603C1624AA361DA1A35A40D1E7F2823DE10C4DBB5918DF04A0B79B60ADBF1BF5703C1220AAA61921F005BB9068BA16D0BD7924F7A726A8D653580EB1CB75D2FA603C16329596180F9FEF10794590EB649B73171B59EF516BC80187E0A9DF6141303C242739A607834AC9779618D2FDB34A49BCE0B0B7F8B3D531E71856DA1392803C1CB3393E078BA6B2CD84A776BD9412374FF01A6FAAC5A819F5E798181C77303C24A134FE1B29694D33C3157D04DE0D7085DC29369C0FD07A63B4D40A8DE7D0C03C1EB12D96625E1F54AA15447D033B54FFB26D801E4CF06B23634F67C19A60B9803C2EBB20FE1FA1EDF6892545FCE96C2488F737AAA4EACDAE20FA207E64E587303C28225E9613B9E86F117D05F786C6BB9887AA8C2DB37CEE79571B3275C5A49ED03C38B811A606532DEB547EE75F214B965798E7FAE7092703DE0A0CDDFBD8ED703C36362DA60483ED38647BEB134E55A1C096A19106CF7D05782E947683410160203C383E0DC6012BE59867866897CFA8F4C3D03FDB05D010CC20E22113A430E0A03C30380DC600DF69F2CD84B843D35340255C03CAFEC3A13230728E893FF5EB303C4037AEBE01EFA5C79985475CA72F30A9440B91AC7E9501B5BC69CD888086C03C38380E9606F3E063DD827A5E04636C03E4FF8C18C03C9C5CB237EC1378E3603C40380BC61884F74B5587E90E1E37CF4E738BA828D64D9005CF60AABF013C403C3A3DABC61EA8C36D3390B588C352F140AA6A4341F4D938D7380CE66DB07E303C3438119635571E09767E152BABCE86490F88BA49D8296ADC7D0589C07A01D1303C263D68BE4A903085BB62F97D046FDD24027A80B5E1BB2534F9F7B13EA6B82E903C28C982B212561690EFF056B77D0390B4B6C22EAEB9C9BA18433415B82520C6A03C1C4127CC371441ED33B607E023CEC06CEAA0BD474FA3E8C652A8B9DA837B303C44761F8EEA320D32CD43EA022744C1CDE7650C662B7A113340F6305E0D13D03C3C3BCBB97E7627A79A9E813ACD0802B7978B6DECDF3DFA310D851531E2D2203C46C8149EBA29F5568973948404BEC10D182F1B58FCF40868F16A1023E27E003C3A3A21BE12ADCCA976D5C54B78B7976832454362C966445AEC8E639B7D0269503C46C811BE07DFB4F8677D05156109F87F4470D3E735029075A9518AD0A3C3F2F03C3A35969E072D68B8672B9B839E4651617A92BEC5F8AD40407861400DF9F1603C467D0296BE0671FD38678247431D887E3BFEFB7ADAEB8CB6067D05C05844177D04403C3A34169E066DC3D0EED497F706D1BD288B3259B3284FD80C4C917B60A3A4E03C6E7D0296BE07B1C330EF85EBE56BF23575D3814A92151F7D040F649EDC890D33D03C3437908E180BC610EF85E4CE2875DD7F5AE60BC0B690248F2D8670DA870CA03C283E214E18DF4ABA458222719C08B7CAC10EFC84620A7709A214E059383E103C1A38138E1B1504A1EFB04A7D013DDC4612F48C9184F5B96849F37D0200361D2FB03C343E2015749A03D0EA78458A97607343C7DAB7AA75CBA688089BF7B26D86A03C205581B570CCA189778BD49980841F141352FCA4FC9305DD7AD1D37BF255F03CD841801867A651A5B122CBB666908D6EC8829A25F6F6BECF457D0299CACA8C203C3C738296AF9F0061F7C3BA5C61EFD82FB2387D04F54549FE4C7889B63F71B1203CDE421F4A4D2012C3D92E7708CB6B1B29F9D6C962B6CFC151715441013742C03C54541F2E05BB02C1F78C7A641CD35705F4F73E9731D6ECC8D58339E601D7603C1A7D027F5686CB0E21F73657843466E8BECCB9B492DF67542E20A11A7979C1803C44C77430E49C13817D0186887503D9290496137339753B823A5414A7829F76903CD87D025F1066951781F1918A4A4EF04AC31A54E59F7755B7FA7033A40D12B1903C52761D1CB87E04A1F8B15AD3D368FC16309EBA54EE247D01F7460EC036979D50]";  
            dos.write(HexByteToolUtil.hexStringToBytes(HexByteToolUtil.encode("[3G*1451562501*0002*LK]")));  
            dos.flush();
            if(strWord.equalsIgnoreCase("quit"))  
                break;  
            else  
                System.out.println("======readLine====="+brNet.readLine());  
        }  
        dos.close();  
        brNet.close();  
        brKey.close();  
        s.close();  
    }catch(Exception e){e.printStackTrace();}  
    }  
}  
